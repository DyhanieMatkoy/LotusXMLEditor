# Сворачивание кода - Инструкция

## Что добавлено

В редактор добавлены визуальные контролы для сворачивания/разворачивания XML-элементов.

## Как использовать

### 1. Включите номера строк
Нажмите `Ctrl+L` или выберите **View → Show Line Numbers**

### 2. Визуальные контролы
В области номеров строк появятся треугольники:
- **►** (вправо) - свернутый блок, кликните чтобы развернуть
- **▼** (вниз) - блок можно свернуть, появляется при наведении мыши

### 3. Горячие клавиши

| Комбинация | Действие |
|------------|----------|
| `Ctrl+Shift+[` | Свернуть элемент под курсором |
| `Ctrl+Shift+]` | Развернуть элемент под курсором |
| `Ctrl+Shift+U` | Развернуть всё |
| `Alt+2`...`Alt+9` | Свернуть все элементы уровня 2...9 |

### 4. Меню View
Все команды доступны в меню **View**:
- Fold Current Element
- Unfold Current Element  
- Unfold All

## Особенности

- Сворачивание работает только для правильно сформированных XML-элементов
- При редактировании текста все блоки автоматически разворачиваются
- Треугольники появляются только при наведении мыши на строку с элементом
- Свернутые блоки отмечены треугольником вправо (►)

## Решение проблемы с нумерацией

Если вы видели "прыгающую" нумерацию строк (1454, 1456, пропуская 1455), это было из-за скрытых свернутых блоков. Теперь:
1. Свернутые блоки явно отмечены треугольником ►
2. Можно кликнуть на треугольник, чтобы развернуть
3. Или использовать `Ctrl+Shift+U` для разворачивания всего
