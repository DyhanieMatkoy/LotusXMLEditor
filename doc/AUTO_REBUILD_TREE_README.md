# AutoRebuildTree - Краткая инструкция

## Что добавлено?

Добавлена опция **AutoRebuildTree** для контроля автоматического обновления дерева XML.

## Как использовать?

### 1. Открыть настройки
- Меню **Settings** → **Settings...**
- Раздел **Tree Updates**
- Опция **Auto Rebuild Tree**

### 2. Включить/выключить опцию
- ✓ **Включено** (по умолчанию): дерево обновляется автоматически через 5 секунд
- ☐ **Выключено**: дерево обновляется только вручную по кнопке **Rebuild Tree** (F11)

### 3. Индикатор обновления
Когда опция выключена и текст изменен, слева от кнопки **Rebuild Tree** появляется оранжевый индикатор **⚠**:

```
[File Tree] ⚠ [Rebuild Tree] [Enable Sync] ...
```

### 4. Обновить дерево вручную
- Нажмите кнопку **Rebuild Tree** в toolbar
- Или нажмите **F11**
- Индикатор **⚠** исчезнет

## Когда использовать?

### Выключите опцию:
- При работе с большими XML файлами (медленное обновление)
- При множественных изменениях подряд
- Для экономии ресурсов процессора

### Оставьте включенной:
- При работе с небольшими файлами
- Для немедленного отображения изменений в дереве
- Если нет проблем с производительностью

## Файлы документации

- `doc/AUTO_REBUILD_TREE_FEATURE.md` - Полная документация (English)
- `doc/AUTO_REBUILD_TREE_RU.md` - Краткая инструкция (Русский)
- `doc/AUTO_REBUILD_TREE_VISUAL.txt` - Визуальное руководство
- `CHANGELOG_AUTO_REBUILD_TREE.md` - Список изменений
- `test_auto_rebuild_tree.py` - Тестовый скрипт

## Технические детали

### Измененные файлы:
- `main.py` - Добавлена логика индикатора и флага auto_rebuild_tree
- `settings_dialog.py` - Добавлена опция в диалог настроек

### Настройка сохраняется в:
- QSettings: `flags/auto_rebuild_tree`
- Приложение: "LotusXmlEditor"
- Организация: "visxml.net"

### Горячие клавиши:
- **F11** - Rebuild Tree (обновить дерево вручную)

## Тестирование

Запустите тест для проверки работы настройки:

```bash
python test_auto_rebuild_tree.py
```

Ожидаемый результат:
```
✓ Test 1 passed: auto_rebuild_tree saved as True
✓ Test 2 passed: auto_rebuild_tree saved as False
✓ Test 3 passed: auto_rebuild_tree defaults to True

✓ All tests passed!
```

## Визуальная демонстрация

См. файл `doc/AUTO_REBUILD_TREE_VISUAL.txt` для подробной визуальной демонстрации работы функции.
